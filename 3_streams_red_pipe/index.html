
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Genomics Aotearoa & NeSI">
      
      
        <link rel="canonical" href="https://genomicsaotearoa.github.io/shell-for-bioinformatics/3_streams_red_pipe/">
      
      
        <link rel="prev" href="../2_download_data/">
      
      
        <link rel="next" href="../4_inspectmanipluate/">
      
      
      <link rel="icon" href="../images/nesi_ga.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>2. Streams, Redirection and Pipe - Intermediate Shell for Bioinformatics</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mukta:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Mukta";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#2-streams-redirection-and-pipe" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Intermediate Shell for Bioinformatics" class="md-header__button md-logo" aria-label="Intermediate Shell for Bioinformatics" data-md-component="logo">
      
  <img src="../images/nesi_ga.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Intermediate Shell for Bioinformatics
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2. Streams, Redirection and Pipe
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/GenomicsAotearoa/shell-for-bioinformatics" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GenomicsAotearoa/shell-for-bioinformatics
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Intermediate Shell for Bioinformatics" class="md-nav__button md-logo" aria-label="Intermediate Shell for Bioinformatics" data-md-component="logo">
      
  <img src="../images/nesi_ga.png" alt="logo">

    </a>
    Intermediate Shell for Bioinformatics
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/GenomicsAotearoa/shell-for-bioinformatics" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GenomicsAotearoa/shell-for-bioinformatics
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_download_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Download &amp; Verify Data
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    2. Streams, Redirection and Pipe
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    2. Streams, Redirection and Pipe
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#output-redirection" class="md-nav__link">
    <span class="md-ellipsis">
      Output redirection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-unix-pipe" class="md-nav__link">
    <span class="md-ellipsis">
      The Unix pipe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-pipes-and-redirection" class="md-nav__link">
    <span class="md-ellipsis">
      Combining pipes and redirection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-tee-to-capture-intermediate-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Using tee to capture intermediate outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-substitution" class="md-nav__link">
    <span class="md-ellipsis">
      Command Substitution
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_inspectmanipluate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Inspecting and Manipulating Text Data with Unix Tools - Part 1
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_inspectmanipulate2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Inspecting and Manipulating Text Data with Unix Tools - Part 2
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_automate_fileprocessing_find_xargs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Preview : Automating File-Processing with find and xargs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../puzzles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Puzzles
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Supplementary 
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Supplementary 
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supplementary%20/supplementary_1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supp - 1. UNIX, Linux &amp; UNIX Shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supplementary%20/supplementary_2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supp - 2. Unix Shell Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supplementary%20/supplementary_3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supp - 3. Escaping and Special Characters
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#output-redirection" class="md-nav__link">
    <span class="md-ellipsis">
      Output redirection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-unix-pipe" class="md-nav__link">
    <span class="md-ellipsis">
      The Unix pipe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combining-pipes-and-redirection" class="md-nav__link">
    <span class="md-ellipsis">
      Combining pipes and redirection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-tee-to-capture-intermediate-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Using tee to capture intermediate outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-substitution" class="md-nav__link">
    <span class="md-ellipsis">
      Command Substitution
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="2-streams-redirection-and-pipe">2. Streams, Redirection and Pipe<a class="headerlink" href="#2-streams-redirection-and-pipe" title="Permanent link">&para;</a></h1>
<div class="admonition clipboard-list">
<p class="admonition-title">Lesson Objectives</p>
<ul>
<li>To be able to redirect streams of data in Unix.</li>
<li>Solve problems by piping several Unix commands.</li>
<li>Command substitution </li>
</ul>
</div>
<p>Bioinformatics data is often text-based and large. This is why Unix’s philosophy of handling text streams is useful in bioinformatics: text streams allow us to do processing on a stream of data rather than holding it all in memory. Handling and redirecting the streams of data is an essential skill in Unix.</p>
<figure>
<p><a class="glightbox" href="../images/redirection_st.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image" src="../images/redirection_st.png" width="590" /></a></p>
</figure>
<p>By default, both standard error and standard output of most unix programs go to your terminal screen. We can change this behavior (redirect the streams to a file) by using <code>&gt;</code> or <code>&gt;&gt;</code> operators. The operator <code>&gt;</code> redirects standard output to a file and overwrites any existing contents of the file, whereas <code>&gt;&gt;</code> appends to the file. If there isn’t an existing file, both operators will create it before redirecting output to it. </p>
<h3 id="output-redirection">Output redirection<a class="headerlink" href="#output-redirection" title="Permanent link">&para;</a></h3>
<p>The <code>shell4b_data</code> directory contains the following fasta files:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>tb1.fasta
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>tb1-protein.fasta
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>tga1-protein.fasta
</code></pre></div>
<p>We can use the <code>cat</code> command to view these files either one at a time:</p>
<details class="backward">
<summary>Recap - <code>cat</code> command to view the content of <em>a</em> file</summary>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>cat<span class="w"> </span>tb1-protein.fasta
</code></pre></div>
<details class="success">
<summary>output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>&gt;teosinte-branched-1<span class="w"> </span>protein
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>LGVPSVKHMFPFCDSSSPMDLPLYQQLQLSPSSPKTDQSSSFYCYPCSPP
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>FAAADASFPLSYQIGSAAAADATPPQAVINSPDLPVQALMDHAPAPATEL
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>GACASGAEGSGASLDRAAAAARKDRHSKICTAGGMRDRRMRLSLDVARKF
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>FALQDMLGFDKASKTVQWLLNTSKSAIQEIMADDASSECVEDGSSSLSVD
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>GKHNPAEQLGGGGDQKPKGNCRGEGKKPAKASKAAATPKPPRKSANNAHQ
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>VPDKETRAKARERARERTKEKHRMRWVKLASAIDVEAAAASVPSDRPSSN
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>NLSHHSSLSMNMPCAAA
</code></pre></div>
</details>
</div>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>cat<span class="w"> </span>tga1-protein.fasta<span class="w"> </span>
</code></pre></div>
<details class="success">
<summary>output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>&gt;teosinte-glume-architecture-1<span class="w"> </span>protein
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>DSDCALSLLSAPANSSGIDVSRMVRPTEHVPMAQQPVVPGLQFGSASWFP
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>RPQASTGGSFVPSCPAAVEGEQQLNAVLGPNDSEVSMNYGGMFHVGGGSG
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>GGEGSSDGGT
</code></pre></div>
</details>
</div>
</details>
<p>OR all at once with <code>cat *.fasta</code></p>
<p>We can also redirect the output to create a new file containing the sequence for both proteins:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>cat<span class="w"> </span>tb1-protein.fasta<span class="w"> </span>tga1-protein.fasta<span class="w"> </span>&gt;<span class="w"> </span>zea-proteins.fasta
</code></pre></div>
</div>
<p>Now we have a new file called <code>zea-proteins.fasta</code>. Let's check the contents:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>cat<span class="w"> </span>zea-proteins.fasta
</code></pre></div>
<details class="success">
<summary>output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>&gt;teosinte-branched-1<span class="w"> </span>protein
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>LGVPSVKHMFPFCDSSSPMDLPLYQQLQLSPSSPKTDQSSSFYCYPCSPP
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>FAAADASFPLSYQIGSAAAADATPPQAVINSPDLPVQALMDHAPAPATEL
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>GACASGAEGSGASLDRAAAAARKDRHSKICTAGGMRDRRMRLSLDVARKF
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>FALQDMLGFDKASKTVQWLLNTSKSAIQEIMADDASSECVEDGSSSLSVD
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>GKHNPAEQLGGGGDQKPKGNCRGEGKKPAKASKAAATPKPPRKSANNAHQ
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>VPDKETRAKARERARERTKEKHRMRWVKLASAIDVEAAAASVPSDRPSSN
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>NLSHHSSLSMNMPCAAA
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>&gt;teosinte-glume-architecture-1<span class="w"> </span>protein
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>DSDCALSLLSAPANSSGIDVSRMVRPTEHVPMAQQPVVPGLQFGSASWFP
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>RPQASTGGSFVPSCPAAVEGEQQLNAVLGPNDSEVSMNYGGMFHVGGGSG
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>GGEGSSDGGT
</code></pre></div>
</details>
</div>
<p>Capturing error messages</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>cat<span class="w"> </span>tb1-protein.fasta<span class="w"> </span>mik.fasta
</code></pre></div>
<blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>&gt;teosinte-branched-1<span class="w"> </span>protein
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>LGVPSVKHMFPFCDSSSPMDLPLYQQLQLSPSSPKTDQSSSFYCYPCSPP
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>FAAADASFPLSYQIGSAAAADATPPQAVINSPDLPVQALMDHAPAPATEL
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>GACASGAEGSGASLDRAAAAARKDRHSKICTAGGMRDRRMRLSLDVARKF
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>FALQDMLGFDKASKTVQWLLNTSKSAIQEIMADDASSECVEDGSSSLSVD
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>GKHNPAEQLGGGGDQKPKGNCRGEGKKPAKASKAAATPKPPRKSANNAHQ
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>VPDKETRAKARERARERTKEKHRMRWVKLASAIDVEAAAASVPSDRPSSN
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>NLSHHSSLSMNMPCAAA
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>cat:<span class="w"> </span>mik.fasta:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</code></pre></div>
</blockquote>
</div>
<p>There are two different types of output there: <span style="color:blue"><strong><em>standard output</em></strong></span> (the contents of the <code>tb1-protein.fasta</code> file) and <span style="color:red"><strong><em>standard error</em></strong></span> (the error message relating to the missing <code>mik.fasta</code> file). If we use the <code>&gt;</code> operator to redirect the output, the standard output is captured, but the standard error is not - it is still printed to the screen.  Let's check:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>cat<span class="w"> </span>tb1-protein.fasta<span class="w"> </span>mik.fasta<span class="w"> </span>&gt;<span class="w"> </span>test.fasta
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span>cat:<span class="w"> </span>mik.fasta:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</code></pre></div>
</div>
<p>The new file has been created and contains the standard output (contents of the file <code>tb1-protein.fasta</code>):</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>cat<span class="w"> </span>test.fasta
</code></pre></div>
<details class="success">
<summary>output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>&gt;teosinte-branched-1<span class="w"> </span>protein
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>LGVPSVKHMFPFCDSSSPMDLPLYQQLQLSPSSPKTDQSSSFYCYPCSPP
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>FAAADASFPLSYQIGSAAAADATPPQAVINSPDLPVQALMDHAPAPATEL
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>GACASGAEGSGASLDRAAAAARKDRHSKICTAGGMRDRRMRLSLDVARKF
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>FALQDMLGFDKASKTVQWLLNTSKSAIQEIMADDASSECVEDGSSSLSVD
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>GKHNPAEQLGGGGDQKPKGNCRGEGKKPAKASKAAATPKPPRKSANNAHQ
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>VPDKETRAKARERARERTKEKHRMRWVKLASAIDVEAAAASVPSDRPSSN
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>NLSHHSSLSMNMPCAAA
</code></pre></div>
</details>
</div>
<p>If we want to capture the standard error we use the (slightly unweildy) <code>2&gt;</code> operator:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>cat<span class="w"> </span>tb1-protein.fasta<span class="w"> </span>mik.fasta<span class="w"> </span>&gt;<span class="w"> </span>test.fasta<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>stderror.txt
</code></pre></div>
</div>
<div class="admonition user-secret">
<p class="admonition-title">Descriptors</p>
<p>File descriptor <code>2</code> represents standard error (other special file descriptors include <code>0</code> for standard input and <code>1</code> for standard output).</p>
</div>
<p>Check the contents:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>cat<span class="w"> </span>stderror.txt
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span>cat:<span class="w"> </span>mik.fasta:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</code></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Reminder :<code>&gt;</code> vs <code>&gt;&gt;</code></p>
<p>Note that <code>&gt;</code> will overwrite an existing file. We can use <code>&gt;&gt;</code> to add to a file instead of overwriting it:</p>
</div>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>cat<span class="w"> </span>tga1-protein.fasta<span class="w"> </span>&gt;&gt;<span class="w"> </span>test.fasta
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>cat<span class="w"> </span>test.fasta<span class="w"> </span>
</code></pre></div></p>
<details class="success">
<summary>output</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>&gt;teosinte-branched-1<span class="w"> </span>protein
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>LGVPSVKHMFPFCDSSSPMDLPLYQQLQLSPSSPKTDQSSSFYCYPCSPP
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>FAAADASFPLSYQIGSAAAADATPPQAVINSPDLPVQALMDHAPAPATEL
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>GACASGAEGSGASLDRAAAAARKDRHSKICTAGGMRDRRMRLSLDVARKF
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>FALQDMLGFDKASKTVQWLLNTSKSAIQEIMADDASSECVEDGSSSLSVD
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>GKHNPAEQLGGGGDQKPKGNCRGEGKKPAKASKAAATPKPPRKSANNAHQ
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>VPDKETRAKARERARERTKEKHRMRWVKLASAIDVEAAAASVPSDRPSSN
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>NLSHHSSLSMNMPCAAA
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>&gt;teosinte-glume-architecture-1<span class="w"> </span>protein
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>DSDCALSLLSAPANSSGIDVSRMVRPTEHVPMAQQPVVPGLQFGSASWFP
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>RPQASTGGSFVPSCPAAVEGEQQLNAVLGPNDSEVSMNYGGMFHVGGGSG
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>GGEGSSDGGT
</code></pre></div>
</details>
</div>
<h3 id="the-unix-pipe">The Unix pipe<a class="headerlink" href="#the-unix-pipe" title="Permanent link">&para;</a></h3>
<p>The pipe operator (<code>|</code>) passes the output from one command to another command as input.  The following is an example of using a pipe with the <code>grep</code> command.</p>
<p>Steps:</p>
<ol>
<li>Remove the header information for the sequence (line starts with "&gt;")</li>
<li>Highlight any characters in the sequence that <em>are not</em> A, T, C or G.</li>
</ol>
<p>We will use grep to carry out the first step, and then use the pipe operator to pass the output to a second grep command to carry out the second step.</p>
<p>Here is the full command:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;^&gt;&quot;</span><span class="w"> </span>tb1.fasta<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>--color<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;[^ATCG]&quot;</span>
</code></pre></div>
</div>
<div class="admonition magnifying-glass">
<p class="admonition-title">Let's see what each piece does</p>
<p><code>grep -v "^&gt;" tb1.fasta</code></p>
<ul>
<li><code>-v</code>: Inverts the match, selecting non-matching lines</li>
<li><code>"^&gt;"</code>: The pattern to match. ^ means start of line, &gt; is the literal character</li>
</ul>
<p><code>grep --color -i "[^ATCG]"</code></p>
<p>There are a few things going on here:</p>
<ul>
<li><code>--color</code>: tells <code>grep</code> to highlight any matches</li>
<li><code>-i</code>: tells <code>grep</code> to ignore the case (i.e., will match lower or upper case)</li>
<li><code>[^ATCG]</code>: when <code>^</code> is used <em>inside square brackets</em> it has a different function - <em>inverts</em> the pattern, so that <code>grep</code> finds any letters that are <em>not</em> A, T, C or G. In other words,  <code>[^...]</code> means "any character not in this set"</li>
</ul>
<details class="clipboard-question">
<summary>Why is this useful</summary>
<ul>
<li>Identifying non-standard nucleotides in a DNA sequence</li>
<li>Spotting potential sequencing errors</li>
<li>Quality control of DNA sequence data</li>
</ul>
</details>
</div>
<p>Let's run the code:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;^&gt;&quot;</span><span class="w"> </span>tb1.fasta<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>--color<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;[^ATCG]&quot;</span>
</code></pre></div>
<details class="success">
<summary>Output</summary>
<p>CCCCAAAGACGGACCAATCCAGCAGCTTCTACTGCTA<span style="color:red">Y</span>CCATGCTCCCCTCCCTTCGCCGCCGCCGACGC</p>
</details>
</div>
<h3 id="combining-pipes-and-redirection">Combining pipes and redirection<a class="headerlink" href="#combining-pipes-and-redirection" title="Permanent link">&para;</a></h3>
<div class="admonition terminal-2">
<p class="admonition-title">redirect the standard output of above <code>grep..</code> command to <code>non-atcg.txt</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;^&gt;&quot;</span><span class="w"> </span>tb1.fasta<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>--color<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;[^ATCG]&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>non-atcg.txt
</code></pre></div>
</div>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>cat<span class="w"> </span>non-atcg.txt<span class="w"> </span>
</code></pre></div>
</div>
<p>since we are redirecting to a text file, the <code>--color</code> by itself will not record the colour information. We can achieve this by invoking <code>always</code> flag for <code>--color</code>.i.e..</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;^&gt;&quot;</span><span class="w"> </span>tb1.fasta<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>--color<span class="o">=</span>always<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;[^ATCG]&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>non-atcg.txt
</code></pre></div>
</div>
<h3 id="using-tee-to-capture-intermediate-outputs">Using tee to capture intermediate outputs<a class="headerlink" href="#using-tee-to-capture-intermediate-outputs" title="Permanent link">&para;</a></h3>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>grep<span class="w"> </span>-v<span class="w"> </span><span class="s2">&quot;^&gt;&quot;</span><span class="w"> </span>tb1.fasta<span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>intermediate-out.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>--color<span class="o">=</span>always<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;[^ATCG]&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>non-atcg.txt
</code></pre></div>
</div>
<p>The file <code>intermediate-out.txt</code> will contain the output from <code>grep -v "^&gt;" tb1.fasta</code>, but <code>tee</code> also passes that output through the pipe to the next <code>grep</code> command.</p>
<details class="truck-ramp">
<summary>Preview - This is to be covered in "Advanced Shell for Bioinformatics"<br><em>Pipes and Chains and Long running processes  : Exit Status (Programmatically Tell Whether Your Command Worked)</em></summary>
<p>How do you know when they complete? How do you know if they successfully finished without an error? Unix programs exit with an exit status, which indicates whether a program terminated without a problem or with an error. By Unix standards, an exit status of <code>0</code> indicates the process ran successfully, and any <strong>nonzero</strong> status indicates some sort of error has occurred (and hopefully the program prints an understandable error message, too). The exit status isn’t printed to the terminal, but your shell will set its value to a shell variable named   <code>$?</code>. We can use the <code>echo</code> command to look at this variable’s value after running a command:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>program<span class="w"> </span>input.txt<span class="w"> </span>&gt;<span class="w"> </span>results.txt<span class="p">;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$?</span>
</code></pre></div>
Exit statuses are useful because they allow us to programmatically chain commands together in the shell. A subsequent command in a chain is run conditionally on the last command’s exit status. The shell provides two operators that implement this: one operator that runs the subsequent command only if the first command completed successfully (<code>&amp;&amp;</code>), and one operator that runs the next command only if the first completed unsuccessfully (<code>||</code>).</p>
<p>For example, the sequence <code>program1 input.txt &gt; intermediate-results.txt &amp;&amp; program2 intermediate-results.txt &gt; results.txt</code> will execute the second command only if previous commands have completed with a successful zero exit status.</p>
<p>By contrast, <code>program1 input.txt &gt; intermediate-results.txt || echo "warning: an error occurred"</code> will print the message if error has occurred.</p>
<div class="admonition quote">
<p>When a script ends with an <strong>exit</strong> that has no parameter, the exit status of the script is the exit status of the last command executed in the script (previous to the <strong>exit</strong>).</p>
</div>
<div class="admonition clipboard-question">
<p class="admonition-title">Exit Status : using <code>&amp;&amp;</code> and <code>||</code></p>
<p>To test your understanding of <code>&amp;&amp;</code> and <code>||</code>, we’ll use two Unix commands that do nothing but return either exit success (true) or exit failure (false). Predict and check the outcome of the following commands:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nb">true</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$?</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="nb">false</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$?</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="nb">true</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;first command was a success&quot;</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="nb">true</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;first command was not a success&quot;</span><span class="w"> </span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="nb">false</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;first command was not a success&quot;</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="nb">false</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;first command was a success&quot;</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">hint</p>
<p>The <code>$?</code> variable represents the exit status of the previous command.</p>
</div>
<details class="success">
<summary>Answer</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>~$<span class="w"> </span><span class="nb">true</span><span class="w"> </span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>~$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$?</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="m">0</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>~$<span class="w"> </span><span class="nb">false</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>~$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$?</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="m">1</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>~$<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;first command was a success&quot;</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>first<span class="w"> </span><span class="nb">command</span><span class="w"> </span>was<span class="w"> </span>a<span class="w"> </span>success
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>~$<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;first command was not a success&quot;</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>~$<span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;first command was not a success&quot;</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>first<span class="w"> </span><span class="nb">command</span><span class="w"> </span>was<span class="w"> </span>not<span class="w"> </span>a<span class="w"> </span>success
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>~$<span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;first command was a success&quot;</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>~$<span class="w"> </span>
</code></pre></div>
</details>
</div>
</details>
<h3 id="command-substitution">Command Substitution<a class="headerlink" href="#command-substitution" title="Permanent link">&para;</a></h3>
<p>Unix users like to have the Unix shell do the work for them. This is why shell expansions like wildcards and brace expansion exist. Another type of useful shell expansion is command substitution. Command substitution runs a Unix command inline and returns the output as a string that can be used in another command. This opens up a lot of useful possibilities. For example, if you want to include the results from executing a command into a text, you can type:</p>
<div class="admonition terminal-2">
<p class="admonition-title">Which is better ?</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>grep<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;^@&#39;</span><span class="w"> </span>SRR097977.fastq
</code></pre></div>
<center><strong>OR</strong></center></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;There are </span><span class="k">$(</span>grep<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;^@&#39;</span><span class="w"> </span>SRR097977.fastq<span class="k">)</span><span class="s2"> entries in my FASTA file.&quot;</span>
</code></pre></div>
<div class="admonition info"></div>
<ul>
<li><code>echo</code>: This is a command that prints text to the standard output.</li>
<li>The text in quotes is what will be printed, with a substitution: "There are ... entries in my FASTA file."</li>
<li><code>$(...)</code>: This is command substitution. It runs the command inside the parentheses and replaces itself with the output of that command.</li>
<li>
<p><code>grep -c '^@' SRR097977.fastq</code>: This is the command inside the substitution:</p>
<ul>
<li><code>-c</code>: An option that tells grep to count matching lines instead of printing them</li>
<li><code>'^@'</code>: The pattern to search for. In this case, it's looking for lines that start with '@'</li>
</ul>
</li>
<li>
<p>So, this command will:</p>
<ul>
<li>Count how many lines in SRR097977.fastq start with '@'</li>
<li>Substitute that number into the echo statement</li>
<li>Print the resulting message!</li>
</ul>
</li>
</ul>
</div>
<p>Another example of using command substitution would be creating dated directories:</p>
<div class="admonition terminal">
<p class="admonition-title">code</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>mkdir<span class="w"> </span>results-<span class="k">$(</span>date<span class="w"> </span>+%F<span class="k">)</span>
</code></pre></div>
<div class="admonition clipboard-question">
<ul>
<li><code>%F</code> - full date; same as <code>%Y-%m-%d</code></li>
</ul>
</div>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../2_download_data/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 1. Download &amp;amp; Verify Data">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                1. Download &amp; Verify Data
              </div>
            </div>
          </a>
        
        
          
          <a href="../4_inspectmanipluate/" class="md-footer__link md-footer__link--next" aria-label="Next: 3. Inspecting and Manipulating Text Data with Unix Tools - Part 1">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                3. Inspecting and Manipulating Text Data with Unix Tools - Part 1
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Intermediate Shell for Bioinformatics workshop material is licensed under a <a rel="noopener" target="_blank" href="https://www.gnu.org/licenses/gpl-3.0.en.html">GNU General Public License v3.0</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tracking", "navigation.sections", "navigation.expand", "navigation.top", "navigation.footer", "content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>